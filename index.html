<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>

	<meta charset="utf-8" />
	
	<!-- Make IE recognise HTML5 elements (for styling - must stay in the head, before elements are used) -->
	<!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	
	<title>Title</title>
	
	<link rel="icon" type="image/png" href="images/favicon.png" />
	
	<style>
		.test {
			position: absolute;
			left: 0;
			top: 0;
			background-color: red;
			width: 200px;
			height: 200px;
		}
	</style>

</head>

<body>
	
	<div class="test">
	
	</div>
	
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
	<script src="js/jquery.events.move.js"></script>
	<script>
		function logEvent(e){ console.log(e.type, e); }
		jQuery(document)
		.bind('mousedown mouseup', logEvent)
		.ready(function(){
			var start,
					box = jQuery('.test');
			
			// Test setup and teardown wit multiple binds and unbinds...
			
			box
			.bind('movestart move moveend', logEvent)
			.unbind('movestart')
			.unbind('move')
			.unbind('moveend')
			.bind('movestart move moveend', logEvent)
			.bind('movestart', function(e){
				start = {
					x: parseInt(box.css('left')),
					y: parseInt(box.css('top'))
				};
			})
			.bind('move', function(e){
				box.css({
					left: start.x + e.deltaX,
					top: start.y + e.deltaY
				})
			})

		});
	</script>
</body>
</html>